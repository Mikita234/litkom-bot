"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –ê–ù –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
–ó–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è
"""

import asyncio
import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –º–æ–¥—É–ª—è–º
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from db import db

# –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ü–µ–Ω–∞–º–∏ –∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å—é
LITERATURE_DATA = [
    # –ö–Ω–∏–≥–∏
    ("–ë–∞–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç ¬´–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ù–∞—Ä–∫–æ–º–∞–Ω—ã¬ª", "–ö–Ω–∏–≥–∏", 300.0, 200.0, 5),
    ("–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ —Ä–∞–±–æ—Ç–µ –ø–æ —à–∞–≥–∞–º –≤ –ê–ù", "–ö–Ω–∏–≥–∏", 250.0, 170.0, 3),
    ("–°–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ", "–ö–Ω–∏–≥–∏", 150.0, 100.0, 3),
    ("–ñ–∏—Ç—å —á–∏—Å—Ç—ã–º–∏: –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è", "–ö–Ω–∏–≥–∏", 200.0, 130.0, 3),
    ("–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç: –∫–∞–∫ –∏ –ø–æ—á–µ–º—É?", "–ö–Ω–∏–≥–∏", 200.0, 130.0, 3),
    ("–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è ¬´–¢–æ–ª—å–∫–æ –°–µ–≥–æ–¥–Ω—è¬ª", "–ö–Ω–∏–≥–∏", 250.0, 170.0, 5),
    ("–¢–æ–ª—å–∫–æ –°–µ–≥–æ–¥–Ω—è (–∫–Ω–∏–≥–∞)", "–ö–Ω–∏–≥–∏", 180.0, 120.0, 3),
    ("–ë–∞–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç (–≤–∞—Ä–∏–∞–Ω—Ç ¬´–£¬ª)", "–ö–Ω–∏–≥–∏", 300.0, 200.0, 2),
    ("–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è ¬´–¢–æ–ª—å–∫–æ –°–µ–≥–æ–¥–Ω—è (–≤–∞—Ä–∏–∞–Ω—Ç –£)¬ª", "–ö–Ω–∏–≥–∏", 250.0, 170.0, 2),
    ("–î–≤–µ–Ω–∞–¥—Ü–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–π —Å–ª—É–∂–µ–Ω–∏—è –ê–ù", "–ö–Ω–∏–≥–∏", 150.0, 100.0, 2),
    ("–û–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ –ê–ù", "–ö–Ω–∏–≥–∏", 120.0, 80.0, 3),
    
    # –ë—Ä–µ–ª–æ–∫–∏
    ("–ë—Ä–µ–ª–æ–∫ ¬´30 –¥–Ω–µ–π¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 50.0, 30.0, 10),
    ("–ë—Ä–µ–ª–æ–∫ ¬´60 –¥–Ω–µ–π¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 50.0, 30.0, 10),
    ("–ë—Ä–µ–ª–æ–∫ ¬´90 –¥–Ω–µ–π¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 50.0, 30.0, 10),
    ("–ë—Ä–µ–ª–æ–∫ ¬´6 –º–µ—Å—è—Ü–µ–≤¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 50.0, 30.0, 10),
    ("–ë—Ä–µ–ª–æ–∫ ¬´9 –º–µ—Å—è—Ü–µ–≤¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 50.0, 30.0, 5),
    ("–ë—Ä–µ–ª–æ–∫ ¬´1 –≥–æ–¥¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 10),
    ("–ë—Ä–µ–ª–æ–∫ ¬´1.5 –≥–æ–¥–∞ (18 –º–µ—Å—è—Ü–µ–≤)¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 5),
    ("–ë—Ä–µ–ª–æ–∫ ¬´–ù–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 5),
    ("–ë—Ä–µ–ª–æ–∫ ¬´2 –≥–æ–¥–∞¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 5),
    ("–ë—Ä–µ–ª–æ–∫ ¬´3 –≥–æ–¥–∞¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 5),
    ("–ë—Ä–µ–ª–æ–∫ ¬´4 –≥–æ–¥–∞¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 70.0, 40.0, 3),
    ("–ë—Ä–µ–ª–æ–∫ ¬´10 –ª–µ—Ç¬ª", "–ë—Ä–µ–ª–æ–∫–∏", 100.0, 60.0, 3),
    
    # –ú–µ–¥–∞–ª–∏
    ("–ú–µ–¥–∞–ª—å ¬´1 –≥–æ–¥¬ª", "–ú–µ–¥–∞–ª–∏", 150.0, 90.0, 5),
    ("–ú–µ–¥–∞–ª—å ¬´3 –≥–æ–¥–∞¬ª", "–ú–µ–¥–∞–ª–∏", 150.0, 90.0, 3),
    
    # –ë—É–∫–ª–µ—Ç—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
    ("–ë–µ–ª—ã–π –±—É–∫–ª–µ—Ç", "–ë—É–∫–ª–µ—Ç—ã", 30.0, 20.0, 20),
    ("–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–∏—Ç–µ–ª–µ–π –≥—Ä—É–ø–ø—ã", "–ë—É–∫–ª–µ—Ç—ã", 50.0, 30.0, 5),
    ("–ë—É–∫–ª–µ—Ç ¬´–û–Ω–ª–∞–π–Ω¬ª", "–ë—É–∫–ª–µ—Ç—ã", 40.0, 25.0, 5),
    ("–ë—É–∫–ª–µ—Ç ¬´–î–≤–µ–Ω–∞–¥—Ü–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–π —Å–ª—É–∂–µ–Ω–∏—è –ê–ù¬ª", "–ë—É–∫–ª–µ—Ç—ã", 40.0, 25.0, 5),
    ("–ë—É–∫–ª–µ—Ç ¬´–ó–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –∏ –≤—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏–µ¬ª", "–ë—É–∫–ª–µ—Ç—ã", 40.0, 25.0, 5),
    
    # IP (Information Pamphlet) - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞–º—Ñ–ª–µ—Ç—ã
    ("IP ‚Ññ1 ¬´–ö—Ç–æ, —á—Ç–æ, –∫–∞–∫ –∏ –ø–æ—á–µ–º—É?¬ª", "IP", 15.0, 10.0, 15),
    ("IP ‚Ññ16 ¬´–ù–æ–≤–∏—á–∫—É¬ª", "IP", 15.0, 10.0, 30),
    ("IP ‚Ññ22 ¬´–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°–æ–æ–±—â–µ—Å—Ç–≤–æ –ê–ù¬ª", "IP", 15.0, 10.0, 20),
    ("IP ‚Ññ2 ¬´–ì—Ä—É–ø–ø–∞¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ5 ¬´–î—Ä—É–≥–æ–π –≤–∑–≥–ª—è–¥¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ6 ¬´–í—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏–µ –∏ —Å—Ä—ã–≤¬ª", "IP", 15.0, 10.0, 15),
    ("IP ‚Ññ7 ¬´–ó–∞–≤–∏—Å–∏–º—ã–π –ª–∏ —è?¬ª", "IP", 15.0, 10.0, 20),
    ("IP ‚Ññ8 ¬´–¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è¬ª", "IP", 15.0, 10.0, 15),
    ("IP ‚Ññ9 ¬´–ñ–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ10 ¬´–†–∞–±–æ—Ç–∞ –Ω–∞–¥ –®–∞–≥–æ–º –ß–µ—Ç–≤—ë—Ä—Ç—ã–º –≤ –ê–ù¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ11 ¬´–°–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ¬ª", "IP", 15.0, 10.0, 15),
    ("IP ‚Ññ12 ¬´–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –æ–¥–µ—Ä–∂–∏–º–æ—Å—Ç–∏ —Å–≤–æ–∏–º–∏ –∂–µ–ª–∞–Ω–∏—è–º–∏¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ13 ¬´–Æ–Ω—ã–º –∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç —é–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º—ã—Ö¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ14 ¬´–û–ø—ã—Ç –æ–¥–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ–≥–æ‚Ä¶¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ15 ¬´–°–ª—É–∂–µ–Ω–∏–µ –°–û –∏ —á–ª–µ–Ω—Å—Ç–≤–æ –≤ –ê–ù¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ17 ¬´–ï—Å–ª–∏ —Ç—ã –Ω–∞ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ19 ¬´–ü—Ä–∏–Ω—è—Ç–∏–µ —Å–µ–±—è¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ20 ¬´–°–ª—É–∂–µ–Ω–∏–µ –ë–£ –∏ —á–ª–µ–Ω—Å—Ç–≤–æ –≤ –ê–ù¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ21 ¬´–û–¥–∏–Ω–æ—á–∫–∞ ‚Äì –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–∏—Å—Ç—ã–º –≤ –∏–∑–æ–ª—è—Ü–∏–∏¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ23 ¬´–û—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–∏—Å—Ç—ã–º –ø–æ—Å–ª–µ –≤—ã–ø–∏—Å–∫–∏¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ24 ¬´–ü—Ä–æ –¥–µ–Ω—å–≥–∏. –°–∞–º–æ–æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ26 ¬´–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–æ–±—Ä–∞–Ω–∏–π –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏¬ª", "IP", 15.0, 10.0, 5),
    ("IP ‚Ññ27 ¬´–î–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏–ª–∏ –æ–ø–µ–∫—É–Ω–æ–≤ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –≤ –ê–ù¬ª", "IP", 15.0, 10.0, 5),
    ("IP ‚Ññ28 ¬´–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–æ–≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ê–ù¬ª", "IP", 15.0, 10.0, 10),
    ("IP ‚Ññ29 ¬´–°–æ–±—Ä–∞–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ê–ù: –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?¬ª", "IP", 15.0, 10.0, 10),
    ("IP ¬´–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ê–ù¬ª", "IP", 15.0, 10.0, 15),
    ("IP ¬´–ê–ù —Ä–µ—Å—É—Ä—Å¬ª", "IP", 15.0, 10.0, 10),
    ("IP ¬´–õ–∏—Ü–∞, –ª–µ—á–µ–Ω–∏–µ, —Ç–µ—Ä–∞–ø–∏—è¬ª", "IP", 15.0, 10.0, 10),
    
    # –°–ü (Service Pamphlet) - –°–µ—Ä–≤–∏—Å–Ω—ã–µ –ø–∞–º—Ñ–ª–µ—Ç—ã
    ("–°–ü ¬´–°–æ–±—Ä–∞–Ω–∏—è –ê–ù¬ª", "–°–ü", 20.0, 12.0, 10),
    ("–°–ü ¬´–®—É–º–Ω–æ–µ –∏ –±—É–π–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Å–æ–±—Ä–∞–Ω–∏—è—Ö¬ª", "–°–ü", 20.0, 12.0, 5),
    ("–°–ü ¬´–î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–∏—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã. –†–æ–ª–∏ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏¬ª", "–°–ü", 20.0, 12.0, 10),
    ("–°–ü ¬´–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ –Ω–∞—à–∏ –ø—É—Ç–µ–≤–æ–¥–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã¬ª", "–°–ü", 20.0, 12.0, 10),
    ("–°–ü ¬´–ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ¬ª", "–°–ü", 20.0, 12.0, 10),
    ("–°–ü ¬´–†–∞–±–æ—Ç–∞ —Å–æ–±—Ä–∞–Ω–∏–π¬ª", "–°–ü", 20.0, 12.0, 10),
    ("–°–ü ¬´–ê–ù –∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –≤ –≤—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏–∏¬ª", "–°–ü", 20.0, 12.0, 10),
]

async def init_all_literature():
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –ê–ù"""
    print("=" * 60)
    print("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –ê–ù")
    print("=" * 60)
    
    await db.init_db()
    print("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞\n")
    
    success_count = 0
    fail_count = 0
    
    print(f"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ {len(LITERATURE_DATA)} –ø–æ–∑–∏—Ü–∏–π...\n")
    
    for name, category, price, cost, min_stock in LITERATURE_DATA:
        success = await db.add_item(name, category, price, cost, min_stock)
        if success:
            profit_margin = ((price - cost) / price) * 100
            print(f"‚úÖ {name}")
            print(f"   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}, –¶–µ–Ω–∞: {price:.0f}‚ÇΩ, –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å: {cost:.0f}‚ÇΩ, –ú–∞—Ä–∂–∞: {profit_margin:.1f}%")
            success_count += 1
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞: {name}")
            fail_count += 1
    
    print("\n" + "=" * 60)
    print(f"–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
    print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ: {success_count}")
    if fail_count > 0:
        print(f"‚ùå –û—à–∏–±–æ–∫: {fail_count}")
    print("=" * 60)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:")
    categories = {}
    for name, category, price, cost, min_stock in LITERATURE_DATA:
        if category not in categories:
            categories[category] = 0
        categories[category] += 1
    
    for category, count in sorted(categories.items()):
        print(f"   {category}: {count} –ø–æ–∑–∏—Ü–∏–π")

if __name__ == "__main__":
    asyncio.run(init_all_literature())

